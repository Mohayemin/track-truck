<div>
    <page-title></page-title>
    <form class="form-inline">
        <div class="form-group form-group-sm">
            <label class="control-label">Ticket</label>
            <input ng-model="filter.TripTicketNumber"
                   type="text" class="form-control" placeholder="Ticket Number" />
        </div>
        <div class="form-group form-group-sm">
            <label class="control-label">Client</label>
            <client-select ng-model="filter.Client"></client-select>
        </div>

        <div class="form-group form-group-sm">
            <label class="control-label">Status</label>
            <div class="btn-group btn-group-xs">
                <label class="btn "
                       ng-class="'btn-' + statusButtonClass(status)"
                       ng-model="filter.Status[status.id]"
                       uib-btn-checkbox="status.id"
                       ng-repeat="status in [tripStatus.New, tripStatus.InProgress]">
                    {{status.text}}
                </label>
            </div>
        </div>

    </form>
    <hr />
    <uib-accordion close-others="false">

        <uib-accordion-group ng-repeat="trip in trips"
                         is-open="trip.accordionOpen" class="animate-out-right">
            <uib-accordion-heading>
                <div class="row">
                    <div class="col-md-6">
                        <dl class="dl-horizontal">
                            <dt>Ticket</dt>
                            <dd ng-click="$event.stopPropagation();">
                                <trip-link trip="trip"></trip-link>
                            </dd>
                            <dt>Client</dt>
                            <dd>{{trip.Client.Name}}</dd>
                        </dl>
                    </div>
                    <div class="col-md-6">
                        <dl class="dl-horizontal">
                            <dt>Pickup Address </dt>
                            <dd>{{trip.PickupAddress.Text}}</dd>
                            <dt>Pickup Time </dt>
                            <dd>{{trip.ExpectedPickupTimeUtc | philDate}}</dd>
                        </dl>
                    </div>
                </div>
            </uib-accordion-heading>

            <div class="row">
                <div class="col-md-6 animate-out-right" ng-repeat="drop in trip.Drops">
                    <ng-include src="'Scripts/App/Trip/tripDropUpdate.html'"></ng-include>
                </div>
            </div>
        </uib-accordion-group>
    </uib-accordion>

</div>

